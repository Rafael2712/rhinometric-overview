# ü™ü MANUAL DE INSTALACI√ìN - WINDOWS 10/11

**Rhinometric v2.1.0 Trial**  
**Tiempo estimado**: 15-20 minutos  
**Nivel**: Principiante

---

## üìã REQUISITOS PREVIOS

### **Hardware M√≠nimo**
- ‚úÖ Procesador: Intel i5 / AMD Ryzen 5 (2+ cores)
- ‚úÖ RAM: 4 GB disponible (8 GB recomendado)
- ‚úÖ Disco: 20 GB libres (SSD preferido)
- ‚úÖ Red: Conexi√≥n a internet (10+ Mbps)

### **Software Requerido**

#### 1. **Windows 10/11** (64-bit)
- Versi√≥n: 20H2 o superior
- Verificar: `Win + R` ‚Üí `winver` ‚Üí Enter

#### 2. **Docker Desktop**
- Versi√≥n: 4.25.0 o superior
- Descarga: https://www.docker.com/products/docker-desktop/

#### 3. **Git for Windows** (incluye Git Bash)
- Versi√≥n: 2.40.0 o superior
- Descarga: https://git-scm.com/download/win

#### 4. **(Opcional) Windows Terminal**
- Recomendado para mejor experiencia
- Descarga desde Microsoft Store

---

## üîß PASO 1: INSTALAR DOCKER DESKTOP

### **1.1 Descargar Docker Desktop**

1. Ve a: https://www.docker.com/products/docker-desktop/
2. Click en **"Download for Windows"**
3. Espera a que descargue `Docker Desktop Installer.exe` (~600 MB)

### **1.2 Ejecutar Instalador**

1. **Doble click** en `Docker Desktop Installer.exe`
2. Acepta el UAC (User Account Control) ‚Üí **"S√≠"**
3. En la pantalla de configuraci√≥n:
   - ‚úÖ **Marcar**: "Use WSL 2 instead of Hyper-V"
   - ‚úÖ **Marcar**: "Add shortcut to desktop"
4. Click **"Ok"** ‚Üí Espera instalaci√≥n (3-5 minutos)
5. Click **"Close and restart"**

### **1.3 Verificar Instalaci√≥n**

Despu√©s del reinicio:

1. Abre **Docker Desktop** (icono en escritorio)
2. Espera a que Docker inicie (ver√°s icono de ballena en taskbar)
3. Abre **PowerShell** o **Git Bash** y ejecuta:

```powershell
docker --version
# Debe mostrar: Docker version 4.25.x o superior

docker compose version
# Debe mostrar: Docker Compose version v2.23.x o superior

docker ps
# Debe mostrar tabla vac√≠a (sin contenedores a√∫n)
```

**‚úÖ Si ves las versiones, Docker est√° instalado correctamente**

### **Troubleshooting Docker**

#### ‚ùå Error: "WSL 2 installation is incomplete"

**Soluci√≥n**:
```powershell
# Abre PowerShell como Administrador
wsl --install
wsl --set-default-version 2
wsl --update

# Reinicia la PC
```

#### ‚ùå Error: "Hardware assisted virtualization is not enabled"

**Soluci√≥n**:
1. Reinicia PC ‚Üí Entra a BIOS (F2/F10/DEL durante arranque)
2. Busca "Virtualization Technology" o "VT-x" o "AMD-V"
3. Cambia a **"Enabled"**
4. Guarda y reinicia

---

## üîß PASO 2: INSTALAR GIT FOR WINDOWS

### **2.1 Descargar Git**

1. Ve a: https://git-scm.com/download/win
2. Descarga autom√°ticamente `Git-2.43.0-64-bit.exe`

### **2.2 Ejecutar Instalador**

1. **Doble click** en el instalador
2. Configuraci√≥n recomendada:
   - Destination: `C:\Program Files\Git` (default)
   - Components: ‚úÖ Marcar todo
   - Default editor: **"Use Vim"** o **"Use Notepad++"**
   - PATH: ‚úÖ **"Git from the command line and also from 3rd-party software"**
   - SSH: **"Use bundled OpenSSH"**
   - HTTPS: **"Use the native Windows Secure Channel library"**
   - Line ending: **"Checkout Windows-style, commit Unix-style"**
   - Terminal: ‚úÖ **"Use MinTTY"**
3. Click **"Install"** ‚Üí Espera 2 minutos
4. Click **"Finish"**

### **2.3 Verificar Instalaci√≥n**

1. Busca **"Git Bash"** en el men√∫ inicio
2. Abre **Git Bash**
3. Ejecuta:

```bash
git --version
# Debe mostrar: git version 2.43.0 o superior

echo $SHELL
# Debe mostrar: /usr/bin/bash
```

**‚úÖ Si ves la versi√≥n, Git est√° instalado correctamente**

---

## üì• PASO 3: DESCARGAR RHINOMETRIC

### **3.1 Obtener el Paquete Trial**

**Opci√≥n A: Descarga directa**

1. Ve a: https://github.com/Rafael2712/mi-proyecto/releases
2. Descarga: `rhinometric-trial-v2.1.0-universal.tar.gz` (~150 MB)
3. Guarda en: `C:\Users\TuUsuario\Downloads\`

**Opci√≥n B: Git Clone (si tienes acceso al repo)**

```bash
# Abre Git Bash
cd ~
git clone https://github.com/Rafael2712/mi-proyecto.git
cd mi-proyecto/infrastructure/mi-proyecto
```

### **3.2 Descomprimir**

**Usando Git Bash** (recomendado):

```bash
# Navega a Downloads
cd ~/Downloads

# Descomprime
tar -xzf rhinometric-trial-v2.1.0-universal.tar.gz

# Verifica que se cre√≥ la carpeta
ls -la rhinometric-trial-v2.1.0-universal/
# Debe mostrar: docker-compose-v2.1.0.yml, .env.example, etc.
```

**Usando 7-Zip** (alternativa):

1. Descarga 7-Zip: https://www.7-zip.org/
2. Instala 7-Zip
3. Click derecho en `rhinometric-trial-v2.1.0-universal.tar.gz`
4. **7-Zip** ‚Üí **"Extract Here"** (2 veces, primero .gz, luego .tar)

---

## ‚öôÔ∏è PASO 4: CONFIGURAR RHINOMETRIC

### **4.1 Navegar a la carpeta**

```bash
# En Git Bash
cd ~/Downloads/rhinometric-trial-v2.1.0-universal
pwd
# Debe mostrar: /c/Users/TuUsuario/Downloads/rhinometric-trial-v2.1.0-universal
```

### **4.2 Copiar archivo de configuraci√≥n**

```bash
cp .env.example .env
```

### **4.3 Editar configuraci√≥n (IMPORTANTE)**

```bash
# Abre el archivo .env en tu editor favorito
notepad .env

# O usa nano en Git Bash
nano .env
```

**Cambia estas variables**:

```env
# === CREDENCIALES (CAMBIALAS!) ===
GRAFANA_USER=admin
GRAFANA_PASSWORD=TuPasswordSeguro123!    # ‚Üê CAMBIAR

POSTGRES_USER=rhinometric
POSTGRES_PASSWORD=TuPasswordSeguro456!   # ‚Üê CAMBIAR
POSTGRES_DB=rhinometric_trial

REDIS_PASSWORD=TuPasswordSeguro789!      # ‚Üê CAMBIAR

# === PATHS (Windows) ===
# Docker Desktop usa rutas Unix style
HOME=/c/Users/TuUsuario                  # ‚Üê CAMBIAR TuUsuario

# === CONFIGURACION ===
RHINOMETRIC_MODE=trial
RHINOMETRIC_VERSION=2.1.0
```

**‚ö†Ô∏è IMPORTANTE**: 
- Usa passwords **diferentes** para cada servicio
- M√≠nimo 12 caracteres con may√∫sculas, n√∫meros y s√≠mbolos
- Guarda estos passwords en un gestor de contrase√±as (LastPass, 1Password, etc.)

**Guardar**:
- En **Notepad**: Archivo ‚Üí Guardar
- En **nano**: `Ctrl + O` ‚Üí Enter ‚Üí `Ctrl + X`

### **4.4 Verificar configuraci√≥n**

```bash
cat .env | grep -E "(GRAFANA|POSTGRES|REDIS)_PASSWORD"
# Debe mostrar tus nuevos passwords (no los defaults)
```

---

## üöÄ PASO 5: LEVANTAR RHINOMETRIC

### **5.1 Verificar Docker est√° corriendo**

```bash
docker ps
# No debe dar error "Cannot connect to Docker daemon"
```

**Si da error**: 
1. Abre **Docker Desktop**
2. Espera a que inicie (icono ballena en taskbar sin animaci√≥n)
3. Vuelve a intentar `docker ps`

### **5.2 Pull de im√°genes (PRIMER USO)**

```bash
# Descarga todas las im√°genes Docker (esto toma 5-10 minutos)
docker compose -f docker-compose-v2.1.0.yml pull

# Ver√°s progreso:
# [+] Pulling grafana
# [+] Pulling prometheus
# [+] Pulling loki
# etc...
```

**Tama√±o total**: ~2.5 GB de im√°genes Docker

### **5.3 Iniciar Rhinometric**

```bash
# Levanta todos los contenedores en background
docker compose -f docker-compose-v2.1.0.yml up -d

# Ver√°s:
# [+] Running 17/17
#  ‚úî Container rhinometric-postgres      Started
#  ‚úî Container rhinometric-redis         Started
#  ‚úî Container rhinometric-prometheus    Started
#  ‚úî Container rhinometric-loki          Started
#  ‚úî Container rhinometric-tempo         Started
#  ‚úî Container rhinometric-grafana       Started
#  ‚úî Container rhinometric-api-proxy     Started
#  ... (17 contenedores total)
```

**Tiempo de inicio**: 30-60 segundos para que todos est√©n healthy

### **5.4 Verificar que todo est√° corriendo**

```bash
# Ver estado de contenedores
docker ps --format "table {{.Names}}\t{{.Status}}\t{{.Ports}}" | grep rhinometric

# Debe mostrar 17 contenedores con status "Up" o "Up (healthy)"
```

**Verificar logs** (si algo falla):

```bash
# Ver logs de Grafana
docker logs rhinometric-grafana --tail 50

# Ver logs de Prometheus
docker logs rhinometric-prometheus --tail 50

# Ver logs de todos
docker compose -f docker-compose-v2.1.0.yml logs --tail 20
```

---

## üåê PASO 6: ACCEDER A RHINOMETRIC

### **6.1 Abrir Grafana**

1. Abre tu navegador (Chrome, Firefox, Edge)
2. Ve a: **http://localhost:3000**
3. Espera a que cargue (puede tomar 10-15 segundos la primera vez)

### **6.2 Login**

```
Usuario: admin
Password: [El que configuraste en .env]
```

### **6.3 Primera vez - Change Password**

Grafana te pedir√° cambiar el password:
- Puedes **saltarlo** (Skip) o cambiarlo
- Recomendado: usa el mismo que configuraste en `.env`

### **6.4 Explorar Dashboards**

1. Click en **men√∫ hamburguesa** (‚ò∞) arriba izquierda
2. Click en **"Dashboards"**
3. Click en carpeta **"Rhinometric"**
4. Ver√°s los 15 dashboards:
   - üìä **Executive Summary**: Overview ejecutivo
   - üñ•Ô∏è **System Monitoring**: CPU, RAM, Disco
   - üìà **Overview**: Vista general de servicios
   - üìù **Logs Explorer**: B√∫squeda de logs
   - üîç **Traces**: Trazas distribuidas
   - üåê **External APIs Monitoring**: APIs externas
   - ... y 9 m√°s

### **6.5 Verificar otros servicios**

| Servicio | URL | Descripci√≥n |
|----------|-----|-------------|
| **Grafana** | http://localhost:3000 | Dashboards principales |
| **API Connector UI** | http://localhost:8091 | Agregar/gestionar APIs |
| **Prometheus** | http://localhost:9090 | Queries de m√©tricas |
| **Loki** | http://localhost:3100 | Queries de logs |
| **Tempo** | http://localhost:3200 | Queries de traces |

---

## ‚úÖ PASO 7: PRIMEROS PASOS

### **7.1 Ver m√©tricas en tiempo real**

1. En Grafana, abre dashboard **"System Monitoring"**
2. Ver√°s m√©tricas de tu m√°quina Windows:
   - CPU Usage
   - Memory Usage
   - Disk I/O
   - Network Traffic

**Todo actualizado cada 30 segundos autom√°ticamente**

### **7.2 Agregar tu primera API externa**

1. Abre: **http://localhost:8091**
2. Click **"+ Agregar Nueva API"**
3. Llena el formulario:
   ```
   Nombre: jsonplaceholder_posts
   Endpoint: https://jsonplaceholder.typicode.com/posts
   Auth Type: none
   Intervalo: 60
   ```
4. Click **"Test Connection"** ‚Üí Debe mostrar ‚úÖ
5. Click **"Guardar API"**

6. Espera 60 segundos y abre dashboard **"External APIs Monitoring"**
7. Ver√°s tu nueva API siendo monitoreada!

### **7.3 Explorar logs**

1. Dashboard **"Logs Explorer"**
2. En el query builder, selecciona:
   - Container: `rhinometric-api-proxy`
3. Click **"Run Query"**
4. Ver√°s logs en tiempo real del API Proxy

### **7.4 Probar Drilldown**

1. Dashboard **"Drilldown Demo"**
2. Lee la documentaci√≥n incluida
3. Sigue los ejemplos para navegar:
   - M√©trica ‚Üí Logs
   - Logs ‚Üí Traces
   - Traces ‚Üí M√©tricas

---

## üîÑ COMANDOS √öTILES

### **Ver estado de contenedores**

```bash
docker ps | grep rhinometric
# Muestra los 17 contenedores
```

### **Ver logs de un servicio**

```bash
docker logs rhinometric-grafana --tail 50 --follow
# --tail 50: √∫ltimas 50 l√≠neas
# --follow: sigue mostrando nuevos logs (Ctrl+C para salir)
```

### **Reiniciar un servicio**

```bash
docker restart rhinometric-grafana
# Reinicia solo Grafana
```

### **Reiniciar todo**

```bash
docker compose -f docker-compose-v2.1.0.yml restart
```

### **Detener Rhinometric**

```bash
docker compose -f docker-compose-v2.1.0.yml stop
# Los datos se conservan
```

### **Iniciar despu√©s de detener**

```bash
docker compose -f docker-compose-v2.1.0.yml start
```

### **Detener y eliminar todo (CUIDADO)**

```bash
# Esto ELIMINA todos los datos (m√©tricas, logs, configuraci√≥n)
docker compose -f docker-compose-v2.1.0.yml down -v
```

### **Ver uso de recursos**

```bash
docker stats --no-stream | grep rhinometric
# Muestra CPU%, MEM%, NET I/O, BLOCK I/O
```

---

## üêõ TROUBLESHOOTING

### **‚ùå Error: "port is already allocated"**

**Problema**: Otro programa est√° usando el puerto 3000, 9090, etc.

**Soluci√≥n**:

```powershell
# Ver qu√© programa usa el puerto 3000
netstat -ano | findstr :3000

# Anota el PID (√∫ltimo n√∫mero)
# Abre Task Manager ‚Üí Details ‚Üí busca ese PID ‚Üí End Task
```

**Alternativa**: Cambia el puerto en `docker-compose-v2.1.0.yml`:

```yaml
services:
  grafana:
    ports:
      - "3001:3000"  # Cambiar 3000 a 3001
```

### **‚ùå Error: "Cannot connect to Docker daemon"**

**Problema**: Docker Desktop no est√° corriendo

**Soluci√≥n**:
1. Abre **Docker Desktop**
2. Espera a que inicie (icono ballena en taskbar)
3. Verifica: `docker ps`

### **‚ùå Error: "no configuration file provided"**

**Problema**: No est√°s en la carpeta correcta

**Soluci√≥n**:

```bash
cd ~/Downloads/rhinometric-trial-v2.1.0-universal
ls -la docker-compose-v2.1.0.yml
# Debe existir
```

### **‚ùå Grafana muestra "Internal Server Error"**

**Problema**: Grafana a√∫n est√° iniciando

**Soluci√≥n**:
1. Espera 30 segundos m√°s
2. Refresca el navegador (F5)
3. Verifica logs:
   ```bash
   docker logs rhinometric-grafana --tail 50
   ```

### **‚ùå Dashboards muestran "NO DATA"**

**Problema**: Prometheus no ha recolectado suficientes datos a√∫n

**Soluci√≥n**:
1. Espera 2-3 minutos
2. Verifica Prometheus: http://localhost:9090
3. Query de prueba: `up` ‚Üí Debe mostrar 10+ targets

### **‚ùå Contenedor se reinicia continuamente**

**Problema**: Falta memoria RAM o error de configuraci√≥n

**Soluci√≥n**:

```bash
# Ver logs del contenedor problem√°tico
docker logs rhinometric-[nombre-servicio] --tail 100

# Ver eventos Docker
docker events --since 5m

# Aumentar memoria de Docker Desktop:
# Docker Desktop ‚Üí Settings ‚Üí Resources ‚Üí Memory ‚Üí 6 GB
```

---

## üìä VERIFICACI√ìN POST-INSTALACI√ìN

### **Checklist Completo**

Ejecuta este script de verificaci√≥n:

```bash
#!/bin/bash
echo "=== VERIFICACION RHINOMETRIC v2.1.0 ==="
echo ""
echo "[1] Docker Version:"
docker --version
echo ""
echo "[2] Containers Running:"
docker ps | grep rhinometric | wc -l
echo "    (Esperado: 17)"
echo ""
echo "[3] Grafana Status:"
curl -s http://localhost:3000/api/health | grep "ok"
echo ""
echo "[4] Prometheus Targets:"
curl -s http://localhost:9090/api/v1/targets | grep -o "\"health\":\"up\"" | wc -l
echo "    (Esperado: 10+)"
echo ""
echo "[5] Loki Status:"
curl -s http://localhost:3100/ready
echo ""
echo "[6] API Proxy Status:"
curl -s http://localhost:8090/api/health/all | python -m json.tool
echo ""
echo "=== FIN VERIFICACION ==="
```

**Guarda como** `verify.sh` y ejecuta:

```bash
chmod +x verify.sh
./verify.sh
```

---

## üìö PR√ìXIMOS PASOS

1. **Lee la documentaci√≥n de usuario**: `docs/MANUAL_USUARIO_v2.1.0.md`
2. **Explora los 15 dashboards** en Grafana
3. **Agrega m√°s APIs externas** para monitorear
4. **Configura alertas** (Slack, email, webhook)
5. **Prueba el auto-update**: `./auto-update.sh --check-only`

---

## üÜò SOPORTE

### **Documentaci√≥n**
- üìñ Resumen Ejecutivo: `docs/RESUMEN_EJECUTIVO_v2.1.0.md`
- üìñ Manual de Usuario: `docs/MANUAL_USUARIO_v2.1.0.md`
- üìñ API Connector Guide: `API_CONNECTOR_GUIDE.md`

### **Comunidad**
- üí¨ GitHub Issues: https://github.com/Rafael2712/mi-proyecto/issues
- üìß Email (solo versi√≥n comercial): rafael.canelon@rhinometric.com

### **Logs para reportar problemas**

Si necesitas ayuda, incluye esta informaci√≥n:

```bash
# 1. Versi√≥n
cat VERSION

# 2. Sistema operativo
uname -a

# 3. Docker version
docker --version

# 4. Estado de contenedores
docker ps -a | grep rhinometric

# 5. Logs de servicios problem√°ticos
docker compose -f docker-compose-v2.1.0.yml logs --tail 100 > rhinometric-logs.txt
```

---

**‚úÖ INSTALACI√ìN COMPLETADA**

Si llegaste hasta aqu√≠, **¬°Rhinometric est√° corriendo en tu Windows!** üéâ

**Accede a**: http://localhost:3000 (admin / tu_password)

**Tiempo total**: ~20 minutos  
**Containers running**: 17/17  
**Status**: Ready for production monitoring

---

**Versi√≥n del Manual**: 1.0.0  
**Fecha**: Octubre 2025  
**OS**: Windows 10/11 (64-bit)  
**Rhinometric**: v2.1.0 Trial
